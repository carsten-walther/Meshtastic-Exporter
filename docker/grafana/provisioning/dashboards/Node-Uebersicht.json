{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 36,
  "links": [],
  "panels": [
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "Zeigt die kumulative Gesamtzahl der in einem bestimmten Zeitraum gesendeten Pakete.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 0,
        "y": 0
      },
      "id": 10,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "mysql",
            "uid": "dewlho4ubcg74b"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT\n  time,\n  COUNT(*) OVER (\n    ORDER BY\n      time\n  )\nFROM\n  mesh_packet_metrics\nWHERE\n  $__timeFilter(time)\n  AND message_size_bytes IS NOT NULL\n  AND source_id IN ($nodeID)\nGROUP BY\n  time\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Pakete gesendet",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Zeigt die Arten von Paketen im ausgewählten Zeitbereich an.\n\nWeitere Informationen finden Sie unter: https://buf.build/meshtastic/protobufs/docs/main:meshtastic#meshtastic.PortNum",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 14,
        "x": 5,
        "y": 0
      },
      "id": 5,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "mysql",
            "uid": "PE08F4C9C36148019"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT\n  portnum,\n  COUNT(*) as count\nFROM\n  mesh_packet_metrics\nWHERE\n  $__timeFilter(time)\n  AND source_id IN ($nodeID)\nGROUP BY\n  portnum\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Pakettypen gesendet",
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Das letzte Mal, als ein Paket von diesem Knoten gesendet wurde",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "dateTimeFromNow"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 19,
        "y": 0
      },
      "id": 12,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [],
          "fields": "/^time$/",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "editorMode": "code",
          "expr": "timestamp((\n  count(mesh_packet_total{source_id=\"$nodeID\"}) by (source_id)\n  -\n  count(mesh_packet_total{source_id=\"$nodeID\"} offset 1m) by (source_id)\n) > 0)",
          "format": "table",
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  *\nFROM\n  mesh_packet_metrics\nWHERE\n  $__timeFilter(time)\n  AND source_id IN ($nodeID)\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Letztes Paket gesendet",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "Zeigt die kumulative Gesamtzahl der in einem bestimmten Zeitraum empfangenen Pakete.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 0,
        "y": 5
      },
      "id": 21,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "mysql",
            "uid": "dewlho4ubcg74b"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT\n  time,\n  COUNT(*) OVER (\n    ORDER BY\n      time\n  )\nFROM\n  mesh_packet_metrics\nWHERE\n  $__timeFilter(time)\n  AND message_size_bytes IS NOT NULL\n  AND destination_id IN ($nodeID)\nGROUP BY\n  time\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Pakete empfangen",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Zeigt die Arten von Paketen im ausgewählten Zeitbereich an.\n\nWeitere Informationen finden Sie unter:\nhttps://buf.build/meshtastic/protobufs/docs/main:meshtastic#meshtastic.PortNum",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 14,
        "x": 5,
        "y": 5
      },
      "id": 23,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "mysql",
            "uid": "PE08F4C9C36148019"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT\n  portnum,\n  COUNT(*) as count\nFROM\n  mesh_packet_metrics\nWHERE\n  $__timeFilter(time)\n  AND destination_id IN ($nodeID)\nGROUP BY\n  portnum\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Pakettypen empfangen",
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Das letzte Mal, als ein Paket von diesem Knoten empfangen wurde.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "dateTimeFromNow"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 19,
        "y": 5
      },
      "id": 22,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [],
          "fields": "/^time$/",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "editorMode": "code",
          "expr": "timestamp((\n  count(mesh_packet_total{source_id=\"$nodeID\"}) by (source_id)\n  -\n  count(mesh_packet_total{source_id=\"$nodeID\"} offset 1m) by (source_id)\n) > 0)",
          "format": "table",
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  *\nFROM\n  mesh_packet_metrics\nWHERE\n  $__timeFilter(time)\n  AND destination_id IN ($nodeID)\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Letztes Paket empfangen",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "type": "auto",
              "wrapText": false
            },
            "inspect": true
          },
          "mappings": [
            {
              "options": {
                "none": {
                  "color": "text",
                  "index": 2,
                  "text": "⚪️ Unknown"
                },
                "offline": {
                  "color": "red",
                  "index": 1,
                  "text": "🛑 Offline"
                },
                "online": {
                  "color": "green",
                  "index": 0,
                  "text": "🟢 Online"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Node Created At"
            },
            "properties": [
              {
                "id": "unit",
                "value": "dateTimeFromNow"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Node Updated At"
            },
            "properties": [
              {
                "id": "unit",
                "value": "dateTimeFromNow"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Node ID"
            },
            "properties": [
              {
                "id": "unit",
                "value": "hex"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 4,
        "w": 24,
        "x": 0,
        "y": 10
      },
      "id": 1,
      "options": {
        "cellHeight": "lg",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "PA942B37CCFAF5A81"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT\n  *\nFROM\n  node_details\nWHERE\n  node_id = '$nodeID'\nLIMIT\n  1",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "*",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50,
            "whereJsonTree": {
              "children1": [
                {
                  "id": "99bbbb8b-0123-4456-b89a-b1907a16d7fe",
                  "properties": {
                    "field": "node_id",
                    "fieldSrc": "field",
                    "operator": "equal",
                    "value": [
                      "${nodeID}"
                    ],
                    "valueSrc": [
                      "value"
                    ],
                    "valueType": [
                      "text"
                    ]
                  },
                  "type": "rule"
                }
              ],
              "id": "babb9899-0123-4456-b89a-b19079f5bfed",
              "type": "group"
            },
            "whereString": "node_id = '${nodeID}'"
          },
          "table": "node_details"
        }
      ],
      "title": "Nodedetails",
      "transformations": [
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "altitude": true,
              "created_at": true,
              "latitude": true,
              "longitude": true,
              "precision": true,
              "precision_bits": true
            },
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "created_at": "Node Created At",
              "hardware_model": "Hardware Model",
              "long_name": "Long Name",
              "mqtt_status": "MQTT Status",
              "node_id": "Node ID",
              "role": "Client Role",
              "short_name": "Short Name",
              "updated_at": "Node Updated At"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Grafik, die aus Nachbarschaftsinformationsberichten erstellt wurde und die Signalstärke für jede Leitung anzeigt.",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 14
      },
      "id": 9,
      "options": {
        "edges": {
          "mainStatUnit": "dB"
        },
        "layoutAlgorithm": "layered",
        "nodes": {
          "arcs": []
        },
        "zoomMode": "cooperative"
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "PA942B37CCFAF5A81"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT\n  node_id AS \"id\",\n  long_name AS \"title\",\n  short_name AS \"subtitle\",\n  hardware_model AS \"Hardware\",\n  role AS \"Rolle\",\n  \"#808080\" AS color\nFROM\n  node_details\nWHERE\n  node_id = \"$nodeID\"\n  OR node_id = \"$relatives\"",
          "refId": "nodes",
          "sql": {
            "columns": [
              {
                "alias": "\"id\"",
                "parameters": [
                  {
                    "name": "node_id",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"title\"",
                "parameters": [
                  {
                    "name": "long_name",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"detail__Hardware Detail\"",
                "parameters": [
                  {
                    "name": "hardware_model",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"detail__Client Role\"",
                "parameters": [
                  {
                    "name": "role",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"detail__MQTT Status\"",
                "parameters": [
                  {
                    "name": "mqtt_status",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"subtitle\"",
                "parameters": [
                  {
                    "name": "short_name",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": "node_details"
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "PA942B37CCFAF5A81"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \n    CONCAT(neighbor_id, '_', node_id) AS id,\n    neighbor_id AS \"source\",\n    node_id AS \"target\",\n    snr AS \"mainstat\",\n    CASE\n        WHEN snr < -13 THEN '#E74C3C'  -- Red for SNR < -13\n        WHEN snr < -7 THEN '#F4D03F'   -- Yellow for -13 ≤ SNR < -7\n        ELSE '#2ECC71'                 -- Green for SNR ≥ -7\n    END AS \"color\",\n    GREATEST(0.1, LEAST(2, 1 + ((snr + 13) / 10))) AS \"thickness\"\nFROM \n    node_neighbors\n    WHERE (neighbor_id IN (${nodeID:singlequote}) OR neighbor_id IN (${relatives:singlequote}))\n    AND (node_id IN (${nodeID:singlequote}) OR node_id IN (${relatives:singlequote}))",
          "refId": "edges",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "id",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"source\"",
                "parameters": [
                  {
                    "name": "neighbor_id",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"target\"",
                "parameters": [
                  {
                    "name": "node_id",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              },
              {
                "alias": "\"mainstat\"",
                "parameters": [
                  {
                    "name": "snr",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": "node_neighbors"
        }
      ],
      "title": "Node Graph",
      "type": "nodeGraph"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "celsius"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 8,
        "x": 8,
        "y": 14
      },
      "id": 20,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "exemplar": false,
          "expr": "topk(1, telemetry_app_temperature{node_id=\"$nodeID\"})",
          "format": "table",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{long_name}}",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  temperature,\n  time\nFROM\n  environment_metrics\nWHERE\n  node_id = $nodeID\n  AND temperature IS NOT NULL\n  AND $__timeFilter(time)\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "useBackend": false
        }
      ],
      "title": "Temperatur",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "filterable": false,
            "inspect": false
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 15,
        "w": 8,
        "x": 16,
        "y": 14
      },
      "id": 17,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "enablePagination": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "PA942B37CCFAF5A81"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT\n  node_id,\n  \n  -- Environment Update Informationen\n  CASE\n    WHEN environment_update_interval_sec > 1\n    THEN SEC_TO_TIME(environment_update_interval_sec)\n    ELSE NULL\n  END AS environment_update_interval,\n  DATE_FORMAT(environment_update_last_timestamp, '%Y-%m-%d %H:%i:%s') AS environment_update_last_timestamp,\n  \n  -- Device Update Informationen  \n  CASE\n    WHEN device_update_interval_sec > 1\n    THEN SEC_TO_TIME(device_update_interval_sec)\n    ELSE NULL\n  END AS device_update_interval,\n  DATE_FORMAT(device_update_last_timestamp, '%Y-%m-%d %H:%i:%s') AS device_update_last_timestamp,\n  \n  -- Air Quality Update Informationen\n  CASE\n    WHEN air_quality_update_interval_sec > 1\n    THEN SEC_TO_TIME(air_quality_update_interval_sec)\n    ELSE NULL\n  END AS air_quality_update_interval,\n  DATE_FORMAT(air_quality_update_last_timestamp, '%Y-%m-%d %H:%i:%s') AS air_quality_update_last_timestamp,\n  \n  -- Power Update Informationen\n  CASE\n    WHEN power_update_interval_sec > 1\n    THEN SEC_TO_TIME(power_update_interval_sec)\n    ELSE NULL\n  END AS power_update_interval,\n  DATE_FORMAT(power_update_last_timestamp, '%Y-%m-%d %H:%i:%s') AS power_update_last_timestamp,\n  \n  -- Range Test Informationen\n  CASE\n    WHEN range_test_interval_sec > 1\n    THEN SEC_TO_TIME(range_test_interval_sec)\n    ELSE NULL\n  END AS range_test_interval,\n  DATE_FORMAT(range_test_last_packet_timestamp, '%Y-%m-%d %H:%i:%s') AS range_test_last_packet_timestamp,\n  \n  -- PAX Counter Informationen\n  CASE\n    WHEN pax_counter_interval_sec > 1\n    THEN SEC_TO_TIME(pax_counter_interval_sec)\n    ELSE NULL\n  END AS pax_counter_interval,\n  DATE_FORMAT(pax_counter_last_timestamp, '%Y-%m-%d %H:%i:%s') AS pax_counter_last_timestamp,\n  \n  -- Neighbor Info Informationen\n  CASE\n    WHEN neighbor_info_interval_sec > 1\n    THEN SEC_TO_TIME(neighbor_info_interval_sec)\n    ELSE NULL\n  END AS neighbor_info_interval,\n  DATE_FORMAT(neighbor_info_last_timestamp, '%Y-%m-%d %H:%i:%s') AS neighbor_info_last_timestamp,\n  \n  -- Map Broadcast Informationen\n  CASE\n    WHEN map_broadcast_interval_sec > 1\n    THEN SEC_TO_TIME(map_broadcast_interval_sec)\n    ELSE NULL\n  END AS map_broadcast_interval,\n  DATE_FORMAT(map_broadcast_last_timestamp, '%Y-%m-%d %H:%i:%s') AS map_broadcast_last_timestamp,\n  \n  -- MQTT Informationen\n  mqtt_encryption_enabled,\n  mqtt_json_enabled,\n  mqtt_configured_root_topic,\n  DATE_FORMAT(mqtt_info_last_timestamp, '%Y-%m-%d %H:%i:%s') AS mqtt_info_last_timestamp,\n  \n  -- Letzte Aktualisierung\n  DATE_FORMAT(last_updated, '%Y-%m-%d %H:%i:%s') AS last_updated\n  \nFROM node_configurations\nWHERE\n  (environment_update_interval_sec > 1 OR\n   device_update_interval_sec > 1 OR\n   air_quality_update_interval_sec > 1 OR\n   power_update_interval_sec > 1 OR\n   range_test_interval_sec > 1 OR\n   pax_counter_interval_sec > 1 OR\n   neighbor_info_interval_sec > 1 OR\n   map_broadcast_interval_sec > 1)\n  AND node_id IN ($nodeID)",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "environment_update_interval",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50,
            "whereJsonTree": {
              "children1": [
                {
                  "id": "8abaab98-4567-489a-bcde-f19136d5e7d5",
                  "properties": {
                    "field": "node_id",
                    "fieldSrc": "field",
                    "operator": "equal",
                    "value": [
                      "${nodeID}"
                    ],
                    "valueError": [
                      null
                    ],
                    "valueSrc": [
                      "value"
                    ],
                    "valueType": [
                      "text"
                    ]
                  },
                  "type": "rule"
                }
              ],
              "id": "9b988aa8-0123-4456-b89a-b1913556a003",
              "type": "group"
            },
            "whereString": "node_id = '${nodeID}'"
          },
          "table": "node_configurations"
        }
      ],
      "title": "Node-Konfiguration",
      "transformations": [
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "air_quality_update_interval": "Air Quality Update Interval",
              "air_quality_update_last_timestamp": "Air Quality (Timestamp)",
              "device_update_interval": "Device Information Update Interval",
              "device_update_last_timestamp": "Device Information (Timestamp)",
              "environment_update_interval": "Environment Update Interval",
              "environment_update_last_timestamp": "Environment (Timestamp)",
              "last_updated": "Letzte Aktualisierung",
              "map_broadcast_interval": "Map Broadcast Update Interval",
              "map_broadcast_last_timestamp": "Map Broadcast (Timestamp)",
              "mqtt_configured_root_topic": "Root Topic in MQTT",
              "mqtt_encryption_enabled": "MQTT encryption aktiviert",
              "mqtt_info_last_timestamp": "MQTT Info (Timestamp)",
              "mqtt_json_enabled": "MQTT JSON aktiviert",
              "neighbor_info_interval": "Neighbour Info Update Interval",
              "neighbor_info_last_timestamp": "Neighbour Info (Timestamp)",
              "node_id": "Node ID",
              "pax_counter_interval": "PAX Counter Update Interval",
              "pax_counter_last_timestamp": "PAX Counter (Timestamp)",
              "power_update_interval": "Power Update Interval",
              "power_update_last_timestamp": "Power (Timestamp)",
              "range_test_interval": "Range Test Update Interval",
              "range_test_last_packet_timestamp": "Range Test (Timestamp)"
            }
          }
        },
        {
          "id": "reduce",
          "options": {
            "labelsToFields": false,
            "reducers": [
              "lastNotNull"
            ]
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "humidity"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 8,
        "x": 8,
        "y": 19
      },
      "id": 6,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "exemplar": false,
          "expr": "topk(1, telemetry_app_relative_humidity{node_id=\"$nodeID\"})",
          "format": "table",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{long_name}}",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  relative_humidity,\n  time\nFROM\n  environment_metrics\nWHERE\n  node_id = $nodeID\n  AND relative_humidity IS NOT NULL\n  AND $__timeFilter(time)\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "useBackend": false
        }
      ],
      "title": "Luftfeuchtigkeit",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Zeig den gefundenen Node auf einer Karte an.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "dark-blue",
            "mode": "thresholds"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 21
      },
      "id": 13,
      "options": {
        "basemap": {
          "config": {
            "server": "streets",
            "showLabels": true,
            "theme": "auto"
          },
          "name": "Layer 0",
          "type": "xyz"
        },
        "controls": {
          "mouseWheelZoom": false,
          "showAttribution": false,
          "showDebug": false,
          "showMeasure": true,
          "showScale": true,
          "showZoom": true
        },
        "layers": [
          {
            "config": {
              "showLegend": false,
              "style": {
                "color": {
                  "fixed": "dark-blue"
                },
                "opacity": 0.8,
                "rotation": {
                  "fixed": 0,
                  "max": 360,
                  "min": -360,
                  "mode": "mod"
                },
                "size": {
                  "fixed": 8,
                  "max": 15,
                  "min": 2
                },
                "symbol": {
                  "fixed": "img/icons/marker/circle.svg",
                  "mode": "fixed"
                },
                "symbolAlign": {
                  "horizontal": "center",
                  "vertical": "center"
                },
                "textConfig": {
                  "fontSize": 12,
                  "offsetX": 0,
                  "offsetY": 0,
                  "textAlign": "center",
                  "textBaseline": "middle"
                }
              }
            },
            "filterData": {
              "id": "byRefId",
              "options": "nodes"
            },
            "layer-tooltip": true,
            "location": {
              "mode": "auto"
            },
            "name": "nodes",
            "tooltip": true,
            "type": "markers"
          }
        ],
        "tooltip": {
          "mode": "details"
        },
        "view": {
          "allLayers": true,
          "id": "fit",
          "lat": 51.316564,
          "lon": 12.316329,
          "zoom": 15
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT\n  node_id AS \"Node ID\",\n  short_name AS \"Kurzname\",\n  long_name AS \"Langname\",\n  hardware_model AS \"Hardware\",\n  role AS \"Rolle\",\n  latitude AS \"Latitude\",\n  longitude AS \"Longitude\",\n  altitude AS \"Altitude\",\n  precision_bits AS \"Präzision\"\nFROM\n  node_details\nWHERE\n  longitude != 0\n  AND longitude != 0\n  AND node_id IN($nodeID)\nGROUP BY\n  node_id",
          "refId": "nodes",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Standort",
      "type": "geomap"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "pressurehpa"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 8,
        "x": 8,
        "y": 24
      },
      "id": 7,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "exemplar": false,
          "expr": "topk(1, telemetry_app_barometric_pressure{node_id=\"$nodeID\"})",
          "format": "table",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{long_name}}",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  barometric_pressure,\n  time\nFROM\n  environment_metrics\nWHERE\n  node_id = $nodeID\n  AND barometric_pressure IS NOT NULL\n  AND $__timeFilter(time)\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "useBackend": false
        }
      ],
      "title": "Luftdruck",
      "transformations": [
        {
          "id": "seriesToRows",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Metric": true
            },
            "includeByName": {},
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 5,
            "gradientMode": "scheme",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "dashed+area"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "red",
                "value": 0
              },
              {
                "color": "orange",
                "value": 20
              },
              {
                "color": "yellow",
                "value": 50
              },
              {
                "color": "green",
                "value": 80
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 29
      },
      "id": 2,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "exemplar": false,
          "expr": "telemetry_app_battery_level{node_id=\"$nodeID\"}",
          "format": "time_series",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{long_name}} | Model: {{hardware_model}} | Role: {{role}}",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  dm.time,\n  dm.battery_level\nFROM device_metrics dm\nWHERE $__timeFilter(dm.time)\n  AND dm.battery_level IS NOT NULL\n  AND dm.node_id IN ($nodeID)\nORDER BY dm.time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "useBackend": false
        }
      ],
      "title": "Batterie",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 5,
            "gradientMode": "scheme",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "dashed+area"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "red",
                "value": 0
              },
              {
                "color": "orange",
                "value": 20
              },
              {
                "color": "yellow",
                "value": 50
              },
              {
                "color": "green",
                "value": 80
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 29
      },
      "id": 3,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "telemetry_app_voltage{node_id=\"$nodeID\"}",
          "format": "table",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{long_name}} | Model: {{hardware_model}} | Role: {{role}}",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  dm.time,\n  dm.voltage\nFROM device_metrics dm\nWHERE $__timeFilter(dm.time)\n  AND dm.voltage IS NOT NULL\n  AND dm.node_id IN ($nodeID)\nORDER BY dm.time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "useBackend": false
        }
      ],
      "title": "Spannung",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Zeigt den gemessenen Strom aus den Kanälen (1, 2, 3) an.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "mamp"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 37
      },
      "id": 18,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P1809F7CD0C75ACF3"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "telemetry_app_ch1_current{node_id=\"$nodeID\"}",
          "format": "table",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "Channel 1",
          "range": true,
          "rawQuery": true,
          "rawSql": "SELECT\n  time,\n  ch1_current,\n  ch2_current,\n  ch3_current\nFROM\n  power_metrics\nWHERE\n  $__timeFilter(time)\n  AND (\n    ch1_current IS NOT NULL\n    OR ch2_current IS NOT NULL\n    OR ch3_current IS NOT NULL\n  )\n  AND node_id IN ($nodeID)\nGROUP BY\n  time\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "useBackend": false
        }
      ],
      "title": "Strommessung",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "dewlho4ubcg74b"
      },
      "description": "Zeigt die gemessenen Spannung aus den Kanälen (1, 2, 3) an.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 37
      },
      "id": 19,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.1.1",
      "targets": [
        {
          "dataset": "meshtastic",
          "datasource": {
            "type": "mysql",
            "uid": "dewlho4ubcg74b"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT\n  time,\n  ch1_voltage,\n  ch2_voltage,\n  ch3_voltage\nFROM\n  power_metrics\nWHERE\n  $__timeFilter(time)\n  AND (\n    ch1_voltage IS NOT NULL\n    OR ch2_voltage IS NOT NULL\n    OR ch3_voltage IS NOT NULL\n  )\n  AND node_id IN ($nodeID)\nGROUP BY\n  time\nORDER BY\n  time;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Spannungsmessung",
      "type": "timeseries"
    }
  ],
  "preload": false,
  "schemaVersion": 41,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "text": "🧁BagelBakery_Zeitz🥯 (2271592749)",
          "value": "2271592749"
        },
        "datasource": {
          "type": "mysql",
          "uid": "dewlho4ubcg74b"
        },
        "definition": "SELECT \n  CONCAT(long_name, \" \", \"(\", node_id, \")\") AS __text, \n  node_id as __value\nFROM node_details \nORDER BY long_name ASC;",
        "includeAll": false,
        "label": "Node ID",
        "name": "nodeID",
        "options": [],
        "query": "SELECT \n  CONCAT(long_name, \" \", \"(\", node_id, \")\") AS __text, \n  node_id as __value\nFROM node_details \nORDER BY long_name ASC;",
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "current": {
          "text": "",
          "value": ""
        },
        "datasource": {
          "type": "mysql",
          "uid": "dewlho4ubcg74b"
        },
        "definition": "SELECT\n  neighbor_id AS \"source\",\n  node_id AS \"target\"\nFROM\n   node_neighbors\nWHERE\n  node_id = \"${nodeID}\"\n  OR neighbor_id = \"${nodeID}\"",
        "description": "",
        "hide": 2,
        "includeAll": false,
        "label": "relatives",
        "name": "relatives",
        "options": [],
        "query": "SELECT\n  neighbor_id AS \"source\",\n  node_id AS \"target\"\nFROM\n   node_neighbors\nWHERE\n  node_id = \"${nodeID}\"\n  OR neighbor_id = \"${nodeID}\"",
        "refresh": 2,
        "regex": "",
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-12h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Node Übersicht",
  "uid": "58b708bf-3653-4992-8bae-d3b859e74a0d",
  "version": 83,
  "weekStart": "monday"
}